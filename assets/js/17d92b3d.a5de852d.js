"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4065],{3905:function(t,e,n){n.d(e,{Zo:function(){return s},kt:function(){return d}});var r=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},l=Object.keys(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var o=r.createContext({}),m=function(t){var e=r.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},s=function(t){var e=m(t.components);return r.createElement(o.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,l=t.originalType,o=t.parentName,s=p(t,["components","mdxType","originalType","parentName"]),u=m(n),d=a,g=u["".concat(o,".").concat(d)]||u[d]||c[d]||l;return n?r.createElement(g,i(i({ref:e},s),{},{components:n})):r.createElement(g,i({ref:e},s))}));function d(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var l=n.length,i=new Array(l);i[0]=u;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=t,p.mdxType="string"==typeof t?t:a,i[1]=p;for(var m=2;m<l;m++)i[m]=n[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},237:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return p},contentTitle:function(){return o},metadata:function(){return m},assets:function(){return s},toc:function(){return c},default:function(){return d}});var r=n(7462),a=n(3366),l=(n(7294),n(3905)),i=["components"],p={slug:"java-regular-expression",title:"Java\u6b63\u5219\u8868\u8fbe\u5f0f",authors:"zeffon",tags:["java"],date:new Date("2020-03-23T00:00:00.000Z")},o=void 0,m={permalink:"/blog/java-regular-expression",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/blog/blog/2020/2020-03-23-java-regular-expression.md",source:"@site/blog/2020/2020-03-23-java-regular-expression.md",title:"Java\u6b63\u5219\u8868\u8fbe\u5f0f",description:"\u8bb0\u5f55 Java \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4f7f\u7528\u4ee5\u53ca\u63d0\u53d6 HTML \u6587\u672c\u4fe1\u606f",date:"2020-03-23T00:00:00.000Z",formattedDate:"March 23, 2020",tags:[{label:"java",permalink:"/blog/tags/java"}],readingTime:2.93,truncated:!0,authors:[{name:"Zeffon Wu",title:"A web engineer",url:"https://github.com/zeffon",imageURL:"https://github.com/zeffon.png",key:"zeffon"}],prevItem:{title:"Java JPA \u539f\u751fSQL\u548cJPQL",permalink:"/blog/java-jpa-jpql-and-native-sql"},nextItem:{title:"npm\u5b89\u88c5node-sass\u7684\u62a5\u9519",permalink:"/blog/node-sass-npm-install-error"}},s={authorsImageUrls:[void 0]},c=[{value:"\u524d\u8a00",id:"\u524d\u8a00",children:[]},{value:"\u6b63\u6587",id:"\u6b63\u6587",children:[{value:"\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5",id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5",children:[]},{value:"Pattern \u7c7b\u548c Matcher \u7c7b",id:"pattern-\u7c7b\u548c-matcher-\u7c7b",children:[]},{value:"\u722c\u866b\u6848\u4f8b",id:"\u722c\u866b\u6848\u4f8b",children:[]}]}],u={toc:c};function d(t){var e=t.components,n=(0,a.Z)(t,i);return(0,l.kt)("wrapper",(0,r.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"\u8bb0\u5f55 Java \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4f7f\u7528\u4ee5\u53ca\u63d0\u53d6 HTML \u6587\u672c\u4fe1\u606f"),(0,l.kt)("h2",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,l.kt)("p",null,"\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9a\u4e49\u4e00\u4e2a\u641c\u7d22\u6a21\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6765\u641c\u7d22\u3001\u7f16\u8f91\u6216\u5904\u7406\u6587\u672c\u3002\n\u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u4e0d\u4ec5\u9650\u4e8e\u67d0\u4e00\u79cd\u8bed\u8a00\uff0c\u4f46\u662f\u5728\u6bcf\u79cd\u8bed\u8a00\u4e2d\u6709\u7ec6\u5fae\u7684\u5dee\u522b\u3002\n\u5728 Java \u4e2d\uff0cjava.util.regex \u662f\u4e00\u4e2a\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6240\u8ba2\u5236\u7684\u6a21\u5f0f\u6765\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u5339\u914d\u5de5\u4f5c\u7684\u7c7b\u5e93\u5305\u3002\u5b83\u5305\u62ec\u4e24\u4e2a\u7c7b\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"Pattern"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"Matcher Pattern"),"\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Pattern \u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7ecf\u7f16\u8bd1\u540e\u7684\u8868\u73b0\u6a21\u5f0f\u3002Matcher \u7684\u4e00\u4e2a\u5bf9\u8c61\u662f\u4e00\u4e2a\u72b6\u6001\u673a\u5668\uff0c\u5b83\u4f9d\u636e Pattern \u5bf9\u8c61\u505a\u4e3a\u5339\u914d\u6a21\u5f0f\u5bf9\u5b57\u7b26\u4e32\u5c55\u5f00\u5339\u914d\u68c0\u67e5\u3002\u6240\u4ee5\u5728\u4f7f\u7528 Java \u6b63\u5219\u8868\u8fbe\u5f0f\u65f6\uff0c\u9700\u8981\u5148\u6709\u4e00\u4e2a Pattern \u5b9e\u4f8b\u8ba2\u5236\u4e86\u4e00\u4e2a\u6240\u7528\u8bed\u6cd5\u4e0e PERL \u7684\u7c7b\u4f3c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7ecf\u7f16\u8bd1\u540e\u7684\u6a21\u5f0f\uff0c\u7136\u540e\u5b9e\u4f8b\u4e00\u4e2a Matcher \u5bf9\u8c61\u5728\u8fd9\u4e2a\u7ed9\u5b9a\u7684 Pattern \u5b9e\u4f8b\u7684\u6a21\u5f0f\u63a7\u5236\u4e0b\u8fdb\u884c\u5b57\u7b26\u4e32\u7684\u5339\u914d\u5de5\u4f5c\u3002")),(0,l.kt)("h2",{id:"\u6b63\u6587"},"\u6b63\u6587"),(0,l.kt)("h3",{id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5"},"\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u7b26"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\ "),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u4e0b\u4e00\u5b57\u7b26\u6807\u8bb0\u4e3a\u7279\u6b8a\u5b57\u7b26\u3001\u6587\u672c\u3001\u53cd\u5411\u5f15\u7528\u6216\u516b\u8fdb\u5236\u8f6c\u4e49\u7b26")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"^"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ece\u5b57\u7b26\u5f00\u59cb\u5339\u914d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"$"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ece\u5b57\u7b26\u672b\u5c3e\u5339\u914d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"*"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d 0 \u6b21\u6216\u8005\u65e0\u9650\u591a\u6b21")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"+"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d 1 \u6b21\u6216\u8005\u65e0\u9650\u591a\u6b21")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"?"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d 0 \u6b21\u6216\u8005 1 \u6b21\u3002\u5f53\u6b64\u5b57\u7b26\u7d27\u968f\u4efb\u4f55\u5176\u4ed6\u9650\u5b9a\u7b26\uff08","*","\u3001+\u3001?\u3001{n}\u3001{n,}\u3001{n,m}\uff09\u4e4b\u540e\u65f6\uff0c\u5339\u914d\u6a21\u5f0f\u662f",(0,l.kt)("inlineCode",{parentName:"td"},"\u975e\u8d2a\u5fc3\u7684"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u3002\u975e\u8d2a\u5fc3\u53d6\u77ed\uff0c\u8d2a\u5fc3\u53d6\u957f"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[]"),(0,l.kt)("td",{parentName:"tr",align:null},"[]\u91cc\u9762\u7684\u5173\u7cfb\u662f\u6216\u5173\u7cfb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[^]"),(0,l.kt)("td",{parentName:"tr",align:null},"[]\u5185\u7684^\u662f\u975e\u5b57\u7b26, \u8868\u793a\u53d6\u53cd")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"[-]"),(0,l.kt)("td",{parentName:"tr",align:null},"[]\u5185\u7684-\u662f\u8fde\u7eed\u5b57\u7b26, \u8868\u793a\u5b57\u7b26\u8fde\u7eed\u4e0b\u53bb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"."),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u9664\u6362\u884c\u7b26\\n \u4e4b\u5916\u5176\u5b83\u6240\u6709\u5b57\u7b26")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\d"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u6570\u5b57\u5b57\u7b26, \u7b49\u540c\u4e8e\u5339\u914d","[0-9]")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\D"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u975e\u6570\u5b57\u5b57\u7b26, \u7b49\u540c\u4e8e\u5339\u914d",(0,l.kt)("sup",{parentName:"td",id:"fnref-0-9"},(0,l.kt)("a",{parentName:"sup",href:"#fn-0-9",className:"footnote-ref"},"0-9")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\w"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u4efb\u4f55\u5b57\u7c7b\u5b57\u7b26, \u5305\u62ec\u4e0b\u5212\u7ebf, \u7b49\u540c\u4e8e\u5339\u914d","[A-Za-z0-9_]")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\W"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26, \u7b49\u540c\u4e8e\u5339\u914d",(0,l.kt)("sup",{parentName:"td",id:"fnref-a-za-z0-9_"},(0,l.kt)("a",{parentName:"sup",href:"#fn-a-za-z0-9_",className:"footnote-ref"},"a-za-z0-9_")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\s"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u4efb\u4f55\u7a7a\u767d\u5b57\u7b26\uff0c\u5305\u62ec\u7a7a\u683c\u3001\u56de\u8f66\u3001\u5236\u8868\u7b26\u3001\u6362\u9875\u7b26\u7b49\u3002\u7b49\u540c\u4e8e\u5339\u914d","[\\f\\n\\r\\t\\v]")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\\S"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5339\u914d\u4efb\u4f55\u975e\u7a7a\u767d\u5b57\u7b26\u3002\u7b49\u540c\u4e8e\u5339\u914d",(0,l.kt)("sup",{parentName:"td",id:"fnref-\\f\\n\\r\\t\\v"},(0,l.kt)("a",{parentName:"sup",href:"#fn-\\f\\n\\r\\t\\v",className:"footnote-ref"},"\\f\\n\\r\\t\\v")))))),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://www.regexplanet.com/advanced/java/index.html"},"Java \u5728\u7ebf\u8868\u8fbe\u5f0f\u5de5\u5177")),(0,l.kt)("h3",{id:"pattern-\u7c7b\u548c-matcher-\u7c7b"},"Pattern \u7c7b\u548c Matcher \u7c7b"),(0,l.kt)("p",null,"java \u6b63\u5219\u8868\u8fbe\u5f0f\u901a\u8fc7 java.util.regex \u5305\u4e0b\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"Pattern\u7c7b"),"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"Matcher\u7c7b"),"\u5b9e\u73b0\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u521b\u5efa\u6a21\u5f0f\u5bf9\u8c61 Pattern\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u901a\u8fc7\u6a21\u5f0f\u5bf9\u8c61 Pattern\uff0c\u6839\u636e\u6307\u5b9a\u5b57\u7b26\u4e32\u521b\u5efa\u5339\u914d\u5bf9\u8c61 Matcher\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u901a\u8fc7\u5339\u914d\u5bf9\u8c61 Matcher\uff0c\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u5b57\u7b26\u4e32\u3002")),(0,l.kt)("h4",{id:"pattern-\u5e38\u89c1-api"},"Pattern \u5e38\u89c1 API"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"split() \u5728\u6b64\u6a21\u5f0f\u7684\u5339\u914d\u5468\u56f4\u62c6\u5206\u7ed9\u5b9a\u7684\u8f93\u5165\u5e8f\u5217\u3002\u8fd4\u56de\u7684\u662f String[]\u6570\u7ec4"),(0,l.kt)("li",{parentName:"ol"},"matcher() \u521b\u5efa\u4e00\u4e2a\u5339\u914d\u5668\uff0c\u8be5\u5339\u914d\u5668\u5c06\u4f7f\u7ed9\u5b9a\u8f93\u5165\u4e0e\u6b64\u6a21\u5f0f\u5339\u914d"),(0,l.kt)("li",{parentName:"ol"},"compile() \u5c06\u7ed9\u5b9a\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7f16\u8bd1\u4e3a\u6a21\u5f0f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// Pattern.matcher(String regex,CharSequence input) \u7528\u4e8e\u5feb\u901f\u5339\u914d\u5b57\u7b26\u4e32,\u8be5\u65b9\u6cd5\u9002\u5408\u7528\u4e8e\u53ea\u5339\u914d\u4e00\u6b21,\u4e14\u5339\u914d\u5168\u90e8\u5b57\u7b26\u4e32.\nBoolean res1 = Pattern.matches("\\\\d+","123"); // \u8fd4\u56detrue\nBoolean res2 = Pattern.matches("\\\\d+","123abc"); // \u8fd4\u56defalse,\u9700\u8981\u5339\u914d\u5230\u6240\u6709\u5b57\u7b26\u4e32\u624d\u80fd\u8fd4\u56detrue,\u8fd9\u91ccabc\u4e0d\u80fd\u5339\u914d\u5230\n\n// split() \u5728\u6b64\u6a21\u5f0f\u7684\u5339\u914d\u5468\u56f4\u62c6\u5206\u7ed9\u5b9a\u7684\u8f93\u5165\u5e8f\u5217\u3002\u8fd4\u56de\u7684\u662fString[]\u6570\u7ec4\nPattern pattern = Pattern.compile("\\\\d+");\nString[] res = pattern.split("\u5e74\u9f84:18\u624b\u673a:13800000000"); // \u7ed3\u679c\uff1a [\u5e74\u9f84:, \u624b\u673a:]\n\n// \u8fd4\u56depattern\u5bf9\u8c61(\\d+) \u4e5f\u5c31\u662f\u8fd4\u56de\u8be5Matcher\u5bf9\u8c61\u662f\u7531\u54ea\u4e2aPattern\u5bf9\u8c61\u7684\u521b\u5efa\u7684\nPattern pattern = Pattern.compile("\\\\d+");\nMatcher matcher = pattern.matcher("123abc123");\nPattern res = matcher.pattern();\n')),(0,l.kt)("h4",{id:"matcher-\u5e38\u89c1-api"},"Matcher \u5e38\u89c1 API"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"start() \u8fd4\u56de\u4e0a\u4e00\u4e2a\u5339\u914d\u9879\u7684\u8d77\u59cb\u7d22\u5f15"),(0,l.kt)("li",{parentName:"ol"},"end() \u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u5339\u914d\u5b57\u7b26\u540e\u7684\u504f\u79fb\u91cf"),(0,l.kt)("li",{parentName:"ol"},"find() \u5c1d\u8bd5\u67e5\u627e\u4e0e\u6a21\u5f0f\u5339\u914d\u7684\u8f93\u5165\u5e8f\u5217\u7684\u4e0b\u4e00\u4e2a\u5b50\u5e8f\u5217"),(0,l.kt)("li",{parentName:"ol"},"group() \u8fd4\u56de\u5728\u4e0a\u4e00\u4e2a\u5339\u914d\u64cd\u4f5c\u671f\u95f4\u7ed9\u5b9a\u7ec4\u6355\u83b7\u7684\u8f93\u5165\u5b50\u5e8f\u5217")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'Pattern p = Pattern.compile("\\\\d+");\nMatcher m1 = p.matcher("abc123efg");\nBoolean a1 = m1.find(); // \u5339\u914d\u5230\u4e86123, \u7ed3\u679c: true\nInteger a2 = m1.start(); // \u7ed3\u679c: 3,\u8fd4\u56de\u7684\u662f123\u4e2d1\u7684\u8d77\u59cb\u7d22\u5f15\nInteger a3 = m1.end(); // \u7ed3\u679c: 6,\u8fd4\u56de\u7684\u662f123\u540e\u7684\u504f\u79fb\u91cf\nString a4 = m1.group(); // \u7ed3\u679c: 123\n')),(0,l.kt)("h3",{id:"\u722c\u866b\u6848\u4f8b"},"\u722c\u866b\u6848\u4f8b"),(0,l.kt)("p",null,"HTML \u722c\u866b\u601d\u8def:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u660e\u786e\u81ea\u5df1\u60f3\u8981\u722c\u53bb\u7684\u7f51\u7ad9\uff0c\u83b7\u53d6\u5b83\u7684 url"),(0,l.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u6570\u636e\uff1a\u6839\u636e\u60f3\u722c\u53d6\u7684\u4fe1\u606f\u5728\u7f51\u7ad9\u5b9a\u4f4d\u6807\u7b7e"),(0,l.kt)("li",{parentName:"ol"},"\u5206\u6790\u6570\u636e\uff1a\u5206\u6790\u81ea\u5df1\u6240\u83b7\u53d6\u5230\u7684\u4fe1\u606f\uff0c\u8fdb\u884c\u6b63\u5219\u5339\u914d"),(0,l.kt)("li",{parentName:"ol"},"\u6570\u636e\u7cbe\u70bc\uff1a\u901a\u8fc7\u5217\u8868\u3001\u5b57\u5178\u7684\u64cd\u4f5c\uff0c\u5c06\u6570\u636e\u7cbe\u70bc\u51fa\u6765"),(0,l.kt)("li",{parentName:"ol"},"\u4fdd\u5b58\u5904\u7406\uff1a\u5bf9\u6240\u7cbe\u70bc\u7684\u6570\u636e\u4fdd\u5b58\u81f3\u6570\u636e\u5e93")),(0,l.kt)("p",null,"\u5728\u5b9a\u4f4d\u5230\u81ea\u5df1\u6240\u9700\u8981\u7684 HTML \u6807\u7b7e\u540e\uff0c\u9700\u8981\u83b7\u53d6\u6807\u7b7e\u5185\u7684\u6240\u6709\u5b57\u7b26\u3002\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u4e09\u79cd\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u6240\u6709\u5b57\u7b26\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"/w/W")," \u3001 ",(0,l.kt)("inlineCode",{parentName:"p"},"/s/S")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},".")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u4ee5\u83b7\u53d6\u817e\u8baf\u89c6\u9891\u9996\u64ad\u5f71\u9662--\u540d\u79f0\u548c\u7b80\u4ecb\u4e3a\u4f8b\n",(0,l.kt)("inlineCode",{parentName:"p"},"([\\\\s\\\\S]*?)"),"\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"\\\\s"),"\u4e24\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"\\"),"\u662f\u5728 Java \u9700\u8981\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"\\"),"\u6765\u8f6c\u4e49\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"[]"),"\u5185\u662f\u5339\u914d\u6240\u6709\u5b57\u7b26\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"*"),"\u662f\u5339\u914d 0 \u6b21\u6216\u8005\u65e0\u9650\u591a\u6b21\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"?"),"\u662f\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"()"),"\u662f\u5c06\u5176\u8fdb\u884c\u5206\u7ec4\u5904\u7406")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'package com.zeffon.bait;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.StringHttpMessageConverter;\nimport org.springframework.util.ObjectUtils;\nimport org.springframework.web.client.ResourceAccessException;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n * \u83b7\u53d6\u817e\u8baf\u89c6\u9891\u9996\u64ad\u5f71\u9662--\u540d\u79f0\u548c\u7b80\u4ecb\n * Create by Zeffon on 2020/3/27\n */\npublic class TenxunTest {\n\n    @Test\n    public void fetch() {\n        String html = fetchHtml();\n        List<String> res = analysis(html);\n        System.out.println(Arrays.toString(res.toArray()));\n    }\n\n    private String fetchHtml() {\n        String url = "https://v.qq.com/channel/movie";\n        RestTemplate restTemplate = new RestTemplate();\n        setEncode(restTemplate); // \u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u95ee\u9898\n        String html = null;\n        try {\n            html = restTemplate.getForObject(url, String.class);\n        } catch (ResourceAccessException e) {\n            System.out.println("\u8fde\u63a5\u6821\u56ed\u7f51\u8d85\u65f6");\n        }\n        return html;\n    }\n\n    private List<String> analysis(String html) {\n        String rootPattern = "<div class=\\"figure_detail figure_detail_two_row  \\">([\\\\s\\\\S]*?)</div>";\n        Pattern pattern = Pattern.compile(rootPattern);\n        Matcher matcher = pattern.matcher(html);\n\n        List<String> list = new ArrayList<>();\n        // \u83b7\u53d6\u5230\u6240\u5339\u914d\u7684\u5206\u7ec4\u6570\u636e\n        while (matcher.find()) {\n//            System.out.println(matcher.group(1));\n            String content = matcher.group(1);\n            String title = titleFetch(content);\n            String desc = descFetch(content);\n            String s = "title: " + title + " " + "desc: " + desc;\n            list.add(s);\n        }\n        return list;\n    }\n\n    /**\n     * \u83b7\u53d6\u5230\u4e00\u6761\u6570\u636e\u7684\u683c\u5f0f\u5982\u4e0b\uff1a\n     * <a href="https://v.qq.com/x/cover/mzc00200i3sxjmo/d0936y5t23f.html" class="figure_title figure_title_two_row bold" title="\u6211\u5f53\u6478\u91d1\u6821\u5c09\u7684\u90a3\u4e9b\u5e74" _stat="movie_v3_hot:title:\u6211\u5f53\u6478\u91d1\u6821\u5c09\u7684\u90a3\u4e9b\u5e74" target="_blank">\u6211\u5f53\u6478\u91d1\u6821\u5c09\u7684\u90a3\u4e9b\u5e74</a>\n     *\n     * <div class="figure_desc" title="\u7535\u5f71\u518d\u73b0\u6b63\u5b97\u6478\u91d1\u8303\u513f">\u7535\u5f71\u518d\u73b0\u6b63\u5b97\u6478\u91d1\u8303\u513f\n     * \u5bf9\u6b64\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u5bf9\u5e94\u5185\u5bb9\u7684\u83b7\u53d6\u505a\u4e0d\u540c\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4ee5\u51c6\u786e\u5730\u5b9a\u4f4d\u5230\u76f8\u5173\u7684\u5339\u914d\u5185\u5bb9\n     */\n\n    private String titleFetch(String html) {\n        String titlePattern = "target=\\"_blank\\">([\\\\s\\\\S]*?)</a>";\n        Pattern pattern = Pattern.compile(titlePattern);\n        Matcher matcher = pattern.matcher(html);\n\n        if (matcher.find()) {\n            return matcher.group(1);\n        }\n        return "";\n    }\n\n    private String descFetch(String html) {\n        String descPattern = "<div class=\\"figure_desc\\" title=\\"([\\\\s\\\\S]*?)\\">";\n        Pattern pattern = Pattern.compile(descPattern);\n        Matcher matcher = pattern.matcher(html);\n\n        if (matcher.find()) {\n            return matcher.group(1);\n        }\n        return "";\n    }\n\n    private void setEncode(RestTemplate restTemplate) {\n        if (null == restTemplate || ObjectUtils.isEmpty(restTemplate.getMessageConverters())) {\n            return;\n        }\n\n        List<HttpMessageConverter<?>> messageConverters = restTemplate.getMessageConverters();\n        for (int i = 0; i < messageConverters.size(); i++) {\n            HttpMessageConverter<?> httpMessageConverter = messageConverters.get(i);\n            if (httpMessageConverter.getClass().equals(StringHttpMessageConverter.class)) {\n                messageConverters.set(i, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n            }\n        }\n    }\n}\n')))}d.isMDXComponent=!0}}]);